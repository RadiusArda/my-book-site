
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Lecture 1: T-Test and ANOVA &#8212; Edinburgh Data Project</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Lecture 2: Measures for Association in Categorical Data" href="Lecture2.html" />
    <link rel="prev" title="Introduciton to Political Data Analysis: Python tutorials" href="intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Edinburgh Data Project</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduciton to Political Data Analysis: Python tutorials
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lecture 1: T-Test and ANOVA
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Lecture2.html">
   Lecture 2: Measures for Association in Categorical Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Lecture3.html">
   Lecture 3: Linear Regression with Continues Dependent Variable and Multiple Independent Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Lecture4.html">
   Lecture 4: Logistic Regression with Binary Dependent Variable and Multiple Independent Variables
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Lecture1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/bardas97/my-book-site/master?urlpath=tree/Lecture1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importing-dataset-libraries-and-data-organization">
   1- Importing Dataset, Libraries and Data Organization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-visualization">
   2- Data Visualization
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#t-test">
   3- T-test
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#t-test-interactive-widget">
   4- T-Test Interactive Widget
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anova">
   5- ANOVA
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="lecture-1-t-test-and-anova">
<h1>Lecture 1: T-Test and ANOVA<a class="headerlink" href="#lecture-1-t-test-and-anova" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<br>
<br>
<font face="Helvetica" size="3.5px" color="#323752">In this tutorial, we will focus on two different bivariate analysis: t-test and ANOVA.<section id="importing-dataset-libraries-and-data-organization">
<h2>1- Importing Dataset, Libraries and Data Organization<a class="headerlink" href="#importing-dataset-libraries-and-data-organization" title="Permalink to this headline">¶</a></h2>
<br>
<br>
<font face="Helvetica" size="3.5px" color="#323752">As always we will import some functions that will be used throughout the tutorial. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">import</span> <span class="nn">random</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_64596</span><span class="o">/</span><span class="mf">2060528632.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">warnings</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;numpy&#39;
</pre></div>
</div>
</div>
</div>
<br>
<br>
<font face="Helvetica" size="3px" color="#323752" >We do not want to see undesired warnings in our report.</font>
<br>
<br><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<br>
<br>
<font face="Helvetica" size="3px" color="#323752" >In the following code cell we will create a function to hide/show code cells. Since some of the code cells that we will create in this tutorial is quite long especially the ones for the widgets. We will call this function inside the cells.</font>
<br>
<br><br>
<br>
<font face="Helvetica" size="3px" color="#323752"> Next, we will read our dataset. In order to see the features in the data we will use info() function.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;democracy_gdp.csv&#39;</span><span class="p">)</span>
<span class="n">data1</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 149 entries, 0 to 148
Data columns (total 20 columns):
 #   Column                                      Non-Null Count  Dtype  
---  ------                                      --------------  -----  
 0   Country name                                149 non-null    object 
 1   Regional indicator                          149 non-null    object 
 2   Ladder score                                149 non-null    float64
 3   Standard error of ladder score              149 non-null    float64
 4   upperwhisker                                149 non-null    float64
 5   lowerwhisker                                149 non-null    float64
 6   Logged GDP per capita                       149 non-null    float64
 7   Social support                              149 non-null    float64
 8   Healthy life expectancy                     149 non-null    float64
 9   Freedom to make life choices                149 non-null    float64
 10  Generosity                                  149 non-null    float64
 11  Perceptions of corruption                   149 non-null    float64
 12  Ladder score in Dystopia                    149 non-null    float64
 13  Explained by: Log GDP per capita            149 non-null    float64
 14  Explained by: Social support                149 non-null    float64
 15  Explained by: Healthy life expectancy       149 non-null    float64
 16  Explained by: Freedom to make life choices  149 non-null    float64
 17  Explained by: Generosity                    149 non-null    float64
 18  Explained by: Perceptions of corruption     149 non-null    float64
 19  Dystopia + residual                         149 non-null    float64
dtypes: float64(18), object(2)
memory usage: 23.4+ KB
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In the following code cell, we will remove the unnecessary columns and continue with the ones that we will use in the tests.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[[</span><span class="s1">&#39;Country name&#39;</span><span class="p">,</span> <span class="s1">&#39;Regional indicator&#39;</span><span class="p">,</span> <span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">,</span> <span class="s1">&#39;upperwhisker&#39;</span><span class="p">,</span> <span class="s1">&#39;Freedom to make life choices&#39;</span><span class="p">,</span> <span class="s1">&#39;Generosity&#39;</span><span class="p">,</span> <span class="s1">&#39;Explained by: Log GDP per capita&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> Next step is changing some of the names of the columns for the sake of understanding.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Country name&#39;</span><span class="p">:</span> <span class="s1">&#39;country_name&#39;</span><span class="p">})</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Freedom to make life choices&#39;</span><span class="p">:</span> <span class="s1">&#39;democracy&#39;</span><span class="p">})</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Generosity&#39;</span><span class="p">:</span> <span class="s1">&#39;freedom_house&#39;</span><span class="p">})</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;upperwhisker&#39;</span><span class="p">:</span> <span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In the following cell, we will create a dictionary that use country names as dictionary keys. The main idea is spliting the total data by using country names. Therefore, we can use a country name to call all the data about this country. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">ct</span><span class="p">:</span> <span class="n">data1</span><span class="p">[</span><span class="n">data1</span><span class="o">.</span><span class="n">country_name</span><span class="o">==</span> <span class="n">ct</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">ct</span> <span class="ow">in</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;country_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()}</span>
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In the next step, which is quite important for our tests, we will create freedom house parameters according to their categorization: free, partly free, and not free. Also we will create the number of occurances. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">free</span><span class="o">=</span><span class="mi">0</span>
<span class="n">partly_free</span><span class="o">=</span><span class="mi">0</span>
<span class="n">not_free</span><span class="o">=</span><span class="mi">0</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data1</span><span class="p">[</span><span class="s1">&#39;democracy&#39;</span><span class="p">])):</span>
    <span class="k">if</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;democracy&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span><span class="s1">&#39;Free&#39;</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">free</span><span class="o">=</span><span class="n">free</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">elif</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;democracy&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">&lt;=</span><span class="mf">0.8</span> <span class="ow">and</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;democracy&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">&gt;=</span> <span class="mf">0.6</span><span class="p">:</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span><span class="s1">&#39;Partly Free&#39;</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">partly_free</span><span class="o">=</span><span class="n">partly_free</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">elif</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;democracy&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.6</span><span class="p">:</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span><span class="s1">&#39;Not Free&#39;</span>
        <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">][</span><span class="n">x</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">not_free</span><span class="o">=</span><span class="n">not_free</span><span class="o">+</span><span class="mi">1</span>
<span class="n">data1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>Regional indicator</th>
      <th>Logged GDP per capita</th>
      <th>freedom_house_ttest</th>
      <th>democracy</th>
      <th>freedom_house</th>
      <th>Explained by: Log GDP per capita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Finland</td>
      <td>Western Europe</td>
      <td>10.775</td>
      <td>1.0</td>
      <td>0.949</td>
      <td>Free</td>
      <td>1.446</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Denmark</td>
      <td>Western Europe</td>
      <td>10.933</td>
      <td>1.0</td>
      <td>0.946</td>
      <td>Free</td>
      <td>1.502</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Switzerland</td>
      <td>Western Europe</td>
      <td>11.117</td>
      <td>1.0</td>
      <td>0.919</td>
      <td>Free</td>
      <td>1.566</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Iceland</td>
      <td>Western Europe</td>
      <td>10.878</td>
      <td>1.0</td>
      <td>0.955</td>
      <td>Free</td>
      <td>1.482</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Netherlands</td>
      <td>Western Europe</td>
      <td>10.932</td>
      <td>1.0</td>
      <td>0.913</td>
      <td>Free</td>
      <td>1.501</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>144</th>
      <td>Lesotho</td>
      <td>Sub-Saharan Africa</td>
      <td>7.926</td>
      <td>0.0</td>
      <td>0.715</td>
      <td>Partly Free</td>
      <td>0.451</td>
    </tr>
    <tr>
      <th>145</th>
      <td>Botswana</td>
      <td>Sub-Saharan Africa</td>
      <td>9.782</td>
      <td>1.0</td>
      <td>0.824</td>
      <td>Free</td>
      <td>1.099</td>
    </tr>
    <tr>
      <th>146</th>
      <td>Rwanda</td>
      <td>Sub-Saharan Africa</td>
      <td>7.676</td>
      <td>1.0</td>
      <td>0.897</td>
      <td>Free</td>
      <td>0.364</td>
    </tr>
    <tr>
      <th>147</th>
      <td>Zimbabwe</td>
      <td>Sub-Saharan Africa</td>
      <td>7.943</td>
      <td>0.0</td>
      <td>0.677</td>
      <td>Partly Free</td>
      <td>0.457</td>
    </tr>
    <tr>
      <th>148</th>
      <td>Afghanistan</td>
      <td>South Asia</td>
      <td>7.695</td>
      <td>0.0</td>
      <td>0.382</td>
      <td>Not Free</td>
      <td>0.370</td>
    </tr>
  </tbody>
</table>
<p>149 rows × 7 columns</p>
</div></div></div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In order to see the statistical descriptions of the variables, we will use the describe() function.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data1</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Logged GDP per capita</th>
      <th>freedom_house_ttest</th>
      <th>democracy</th>
      <th>Explained by: Log GDP per capita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>149.000000</td>
      <td>149.000000</td>
      <td>149.000000</td>
      <td>149.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>9.432208</td>
      <td>0.503356</td>
      <td>0.791597</td>
      <td>0.977161</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.158601</td>
      <td>0.501675</td>
      <td>0.113332</td>
      <td>0.404740</td>
    </tr>
    <tr>
      <th>min</th>
      <td>6.635000</td>
      <td>0.000000</td>
      <td>0.382000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>8.541000</td>
      <td>0.000000</td>
      <td>0.718000</td>
      <td>0.666000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>9.569000</td>
      <td>1.000000</td>
      <td>0.804000</td>
      <td>1.025000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>10.421000</td>
      <td>1.000000</td>
      <td>0.877000</td>
      <td>1.323000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>11.647000</td>
      <td>1.000000</td>
      <td>0.970000</td>
      <td>1.751000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="data-visualization">
<h2>2- Data Visualization<a class="headerlink" href="#data-visualization" title="Permalink to this headline">¶</a></h2>
<br>
<font face="Helvetica" size="3px" color="#323752"> We will start with an observation about the distribution of freedom house classifications.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">freedom</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Free&#39;</span><span class="p">,</span><span class="s1">&#39;Not Free&#39;</span><span class="p">,</span><span class="s1">&#39;Partly Free&#39;</span><span class="p">]</span>
<span class="n">count</span> <span class="o">=</span> <span class="p">{</span><span class="n">free</span><span class="p">,</span> <span class="n">not_free</span><span class="p">,</span> <span class="n">partly_free</span><span class="p">}</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Freedom Distribution According to Freedom House&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">freedom</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Lecture1_23_0.png" src="_images/Lecture1_23_0.png" />
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> Next graph will show the GDP per capita distribution by defining the freedom house statuses. We will use the histplot function from seaborn library.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data1</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">.7</span>
            <span class="p">,</span><span class="n">hue</span> <span class="o">=</span> <span class="s1">&#39;freedom_house&#39;</span><span class="p">,</span>  <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;percent&quot;</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">binwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;freedom_house&#39;</span><span class="p">);</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;axes.grid&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Logged Gdp per Capita and Freedom House Classifications&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Logged Gdp per Capita &#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Lecture1_25_0.png" src="_images/Lecture1_25_0.png" />
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In the data organization part, another feature is created. This feature is a binary indicator that shows a country is whether a free country or not. Let's examine the GDP per capita distribution according to this classification. <b> '1'</b> for free countries and <b> '0'</b> for not free countries. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#For the t-test we will create binary classification for freedom house</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data1</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">.7</span>
            <span class="p">,</span><span class="n">hue</span> <span class="o">=</span> <span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">,</span>  <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;percent&quot;</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">binwidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">);</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;axes.grid&#39;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Logged Gdp per Capita and Freedom House Classifications&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Logged Gdp per Capita &#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Lecture1_27_0.png" src="_images/Lecture1_27_0.png" />
</div>
</div>
</section>
<section id="t-test">
<h2>3- T-test<a class="headerlink" href="#t-test" title="Permalink to this headline">¶</a></h2>
<br>
<font face="Helvetica" size="3px" color="#323752">The main focus of this section is to introduce hypothesis testing and illustrate with a few examples in Python. Whatever be the concept, its execution can be done easily with programming languages like Python. But, the most important part is drawing inference out of the output and it is highly recommended to know the math behind the executed code.<br>
<font face="Helvetica" size="3px" color="#323752">Hypothesis testing is important in statistics because it gives statistical evidence to show the validity of the study. The null hypothesis states that there is no statistical significance exists between sets of data which implies that the population parameter will be equal to a hypothesized value. Usually, We state the alternative hypothesis which we want to prove. For a null hypothesis H0 and its complementary alternative hypothesis H1, there are 3 cases when the parametric value under H0 ≠ H1 or H0 < H1 or H0 > H1.<br>
<font face="Helvetica" size="3px" color="#323752">In the first test we will apply an one sample t-test, whether the population mean, is less than 9. We will use the GDP per capita as our data now.<br>
<font face="Helvetica" size="3px" color="#323752"> H0: There is no significant mean difference in Logged GDP per capita. i.e., μ = 9
<br>
H1: The population mean is less than 9. i.e., μ < 9<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdp</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">]</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">9</span>

<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>

<span class="n">t_value</span><span class="p">,</span><span class="n">p_value</span><span class="o">=</span><span class="n">stats</span><span class="o">.</span><span class="n">ttest_1samp</span><span class="p">(</span><span class="n">gdp</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>
<span class="n">one_tailed_p_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.6f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p_value</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># Since alternative hypothesis is one tailed, We need to divide the p value by 2.</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test statistic is </span><span class="si">%f</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">float</span>(&quot;{:.6f}&quot;.format(t_value)))
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value for one tailed test is </span><span class="si">%f</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">float</span>(&quot;{:.10f}&quot;.format(p_value)))

<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="k">if</span> <span class="n">one_tailed_p_value</span><span class="o">&lt;=</span><span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Conclusion, since p-value(</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="o">%</span><span class="k">p_value</span>,&#39;&lt;&#39;,&#39;alpha(%.2f)&#39;%alpha,&#39;&#39;&#39;We reject the null hypothesis H0. 
<span class="n">So</span> <span class="n">we</span> <span class="n">conclude</span> <span class="n">that</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">significant</span> <span class="n">mean</span> <span class="n">difference</span> <span class="ow">in</span> <span class="n">GDP</span> <span class="n">per</span> <span class="n">capita</span><span class="o">.</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span> <span class="n">μ</span> <span class="o">=</span> <span class="mi">9</span> <span class="n">at</span> <span class="o">%</span><span class="mf">.2</span><span class="n">f</span> <span class="n">level</span> <span class="n">of</span> <span class="n">significance</span><span class="o">.</span><span class="s1">&#39;&#39;&#39;</span><span class="si">%a</span><span class="s1">lpha)</span>
<span class="s1">else:</span>
<span class="s1">    print(&#39;Conclusion&#39;,&#39;n&#39;,&#39;Since p-value(=</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="si">%o</span><span class="s1">ne_tailed_p_value,&#39;&gt;&#39;,&#39;alpha(=</span><span class="si">%.2f</span><span class="s1">)&#39;</span><span class="si">%a</span><span class="s1">lpha,&#39;&#39;&#39;</span><span class="n">We</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">reject</span> <span class="n">the</span> <span class="n">null</span> <span class="n">hypothesis</span> <span class="n">H0</span><span class="o">.</span><span class="s1">&#39;&#39;&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Test statistic is 4.553569
p-value for one tailed test is 0.000011
Conclusion, since p-value(0.000011) &lt; alpha(0.05) We reject the null hypothesis H0. 
So we conclude that there is no significant mean difference in GDP per capita. i.e., μ = 9 at 0.05 level of significance.
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> To understand the other case, I determined the hypothesis mean as the mean of the data. Lets's check the output below.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdp</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">]</span>
<span class="n">mu</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>

<span class="n">t_value</span><span class="p">,</span><span class="n">p_value</span><span class="o">=</span><span class="n">stats</span><span class="o">.</span><span class="n">ttest_1samp</span><span class="p">(</span><span class="n">gdp</span><span class="p">,</span><span class="n">mu</span><span class="p">)</span>
<span class="n">one_tailed_p_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.6f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p_value</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># Since alternative hypothesis is one tailed, We need to divide the p value by 2.</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test statistic is :&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t_value</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value for one tailed test is </span><span class="si">%f</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">one_tailed_p_value</span>)

<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="k">if</span> <span class="n">one_tailed_p_value</span><span class="o">&lt;=</span><span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Conclusion&#39;</span><span class="p">,</span><span class="s1">&#39;n&#39;</span><span class="p">,</span><span class="s1">&#39;Since p-value(=</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="o">%</span><span class="k">p_value</span>,&#39;&lt;&#39;,&#39;alpha(=%.2f)&#39;%alpha,&#39;&#39;&#39;We reject the null hypothesis H0. 
        <span class="n">So</span> <span class="n">we</span> <span class="n">conclude</span> <span class="n">that</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">significant</span> <span class="n">mean</span> <span class="n">difference</span> <span class="ow">in</span> <span class="n">GDP</span> <span class="n">per</span> <span class="n">capita</span><span class="o">.</span> <span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span> <span class="n">μ</span> <span class="o">=</span> <span class="mi">9</span> <span class="n">at</span> <span class="o">%</span><span class="mf">.2</span><span class="n">f</span> <span class="n">level</span> <span class="n">of</span> <span class="n">significance</span><span class="s1">&#39;&#39;&#39;</span><span class="si">%a</span><span class="s1">lpha)</span>
<span class="s1">else:</span>

<span class="s1">    print(&#39;Conclusion&#39;,&#39;n&#39;,&#39;Since p-value(=</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="si">%o</span><span class="s1">ne_tailed_p_value,&#39;&gt;&#39;,&#39;alpha(=</span><span class="si">%.2f</span><span class="s1">).&#39;</span><span class="si">%a</span><span class="s1">lpha,&#39;&#39;&#39;</span><span class="n">We</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">reject</span> <span class="n">the</span> <span class="n">null</span> <span class="n">hypothesis</span> <span class="n">H0</span><span class="o">.</span><span class="s1">&#39;&#39;&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Test statistic is :
3.7429952460779064e-14
p-value for one tailed test is 0.500000
Conclusion n Since p-value(=0.500000) &gt; alpha(=0.05). We do not reject the null hypothesis H0.
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica" size="3px" color="#323752"> In the following test, we will use two sample, one is freedom house classifications the other one is GDP per capita. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdp</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">]</span>
<span class="n">freedom</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">]</span>

<span class="n">t_value</span><span class="p">,</span><span class="n">p_value</span><span class="o">=</span><span class="n">stats</span><span class="o">.</span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">gdp</span><span class="p">,</span><span class="n">freedom</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Test statistic is </span><span class="si">%f</span><span class="s1">&#39;</span><span class="o">%</span><span class="k">float</span>(&quot;{:.10f}&quot;.format(t_value)))

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value for two tailed test is:&#39;</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p_value</span><span class="p">)</span>
      
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="k">if</span> <span class="n">p_value</span><span class="o">&lt;=</span><span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Conclusion, since p-value(=</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="o">%</span><span class="k">p_value</span>,&#39;&lt;&#39;,&#39;alpha(=%.2f).&#39;%alpha,&#39;&#39;&#39;We reject the null hypothesis H0. So, we conclude that μ1 = μ2 at %.2f level of significance.&#39;&#39;&#39;%alpha)
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Conclusion, since p-value(=</span><span class="si">%f</span><span class="s1">)&#39;</span><span class="o">%</span><span class="k">p_value</span>,&#39;&gt;&#39;,&#39;alpha(=%.2f).&#39;%alpha,&#39;&#39;&#39;We do not reject the null hypothesis H0.&#39;&#39;&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Test statistic is 86.325644
p-value for two tailed test is:
6.675281120389064e-212

Conclusion, since p-value(=0.000000) &lt; alpha(=0.05). We reject the null hypothesis H0. So, we conclude that μ1 = μ2 at 0.05 level of significance.
</pre></div>
</div>
</div>
</div>
</section>
<section id="t-test-interactive-widget">
<h2>4- T-Test Interactive Widget<a class="headerlink" href="#t-test-interactive-widget" title="Permalink to this headline">¶</a></h2>
<br>
<font face="Helvetica"  size="3px" color="#323752"> In the following section, we will create an interactive widget. For the kernel density distribution, we will use Logged GDP per capital. User can change the test type (one-tail, two-tailed) and alpha level.    <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;0.05&#39;</span><span class="p">,</span> <span class="s1">&#39;0.01&#39;</span><span class="p">,</span> <span class="s1">&#39;0.001&#39;</span><span class="p">],</span>
    <span class="n">value</span><span class="o">=</span><span class="s1">&#39;0.05&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;α level:&#39;</span><span class="p">,</span>
    <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>


<span class="n">c</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
    <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one-tail&#39;</span><span class="p">,</span> <span class="s1">&#39;two-tail&#39;</span><span class="p">],</span>
    <span class="n">value</span><span class="o">=</span><span class="s1">&#39;one-tail&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Test:&#39;</span><span class="p">,</span>
    <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">two_tail</span><span class="p">(</span><span class="n">tail</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
    
    <span class="n">values_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="n">tail</span> <span class="o">==</span> <span class="s1">&#39;one-tail&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.05&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">1.645</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.01&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">2.33</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.001&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">3.1</span>
        <span class="n">two_std_from_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">*</span><span class="n">mult</span>
        <span class="n">kde</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">gaussian_kde</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">kde</span><span class="p">(</span><span class="n">pos</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">)</span>

        <span class="n">shade</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">two_std_from_mean</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">shade</span><span class="p">,</span> <span class="n">kde</span><span class="p">(</span><span class="n">shade</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">two_std_from_mean</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Logged GDP per capita T-Test Widget&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Logged GDP per capita&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;frequency of occurence&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    
    <span class="k">elif</span> <span class="n">tail</span> <span class="o">==</span> <span class="s1">&#39;two-tail&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.05&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">1.96</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.01&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">2.575</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;0.001&#39;</span><span class="p">:</span>
            <span class="n">mult</span> <span class="o">=</span> <span class="mf">3.29</span>
        
        <span class="n">alpha_05_positive</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">*</span><span class="n">mult</span>
        <span class="n">alpha_05_negative</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">*</span><span class="n">mult</span>
        <span class="n">kde</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">gaussian_kde</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">kde</span><span class="p">(</span><span class="n">pos</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">)</span>

        <span class="n">shade</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">alpha_05_positive</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">shade</span><span class="p">,</span> <span class="n">kde</span><span class="p">(</span><span class="n">shade</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">)</span>

        <span class="n">shade2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">alpha_05_negative</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">values_2</span><span class="p">)</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">shade2</span><span class="p">,</span> <span class="n">kde</span><span class="p">(</span><span class="n">shade2</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;dodgerblue&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">alpha_05_positive</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">alpha_05_negative</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Logged GDP per capita T-Test Widget&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.015</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Logged GDP per capita&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;frequency of occurence&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">widgets</span><span class="o">.</span><span class="n">interact</span><span class="p">(</span><span class="n">two_tail</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "88a0fd239ba74691a052f7e45fd94a18", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
<section id="anova">
<h2>5- ANOVA<a class="headerlink" href="#anova" title="Permalink to this headline">¶</a></h2>
<br>
<font face="Helvetica"  size="3px" color="#323752"><b>ANOVA</b> test is a way to find out if survey or experiment results are significant. In other words, they help you to figure out if you need to reject the null hypothesis or accept the alternate hypothesis.<br>
<font face="Helvetica"  size="3px" color="#323752"> In the first part, we will rely on <b>Pingouin</b> library. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pingouin</span> <span class="k">as</span> <span class="nn">pg</span>

<span class="n">aov</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">anova</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data1</span><span class="p">,</span> <span class="n">dv</span><span class="o">=</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">,</span> <span class="n">between</span><span class="o">=</span><span class="s1">&#39;freedom_house&#39;</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">aov</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Source</th>
      <th>SS</th>
      <th>DF</th>
      <th>MS</th>
      <th>F</th>
      <th>p-unc</th>
      <th>np2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>freedom_house</td>
      <td>23.714478</td>
      <td>2</td>
      <td>11.857239</td>
      <td>9.894903</td>
      <td>0.000093</td>
      <td>0.119367</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Within</td>
      <td>174.954405</td>
      <td>146</td>
      <td>1.198318</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> As we can see, we have a <b>p-value</b> below the threshold, so there is a significant difference between the various groups.<br>
<font face="Helvetica"  size="3px" color="#323752"> We can also use <b>scipy</b> tools to implement ANOVA. Let's get started by importing <b>f</b> function.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">f</span>
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> Next, we will choose data columns that we will use.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2</span> <span class="o">=</span> <span class="n">data1</span><span class="p">[[</span><span class="s1">&#39;Logged GDP per capita&#39;</span><span class="p">,</span><span class="s1">&#39;freedom_house_ttest&#39;</span><span class="p">]]</span>
<span class="n">data2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Logged GDP per capita</th>
      <th>freedom_house_ttest</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10.775</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10.933</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>11.117</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10.878</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.932</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>144</th>
      <td>7.926</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>145</th>
      <td>9.782</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>146</th>
      <td>7.676</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>147</th>
      <td>7.943</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>148</th>
      <td>7.695</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>149 rows × 2 columns</p>
</div></div></div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> The first step to perform an ANOVA test is to calculate the <b>SST (total sum of squares)</b>, the <b>SSW (total sum of squares within)</b>, and the <b>SSB (total sum of squares between)</b>, and the corresponding degrees of freedom. They calculated as following:<br>
<font face="Helvetica"  size="3px" color="#323752"><b>SST</b> is the sum of the squared distance between each data point and the mean of the dataset. The degrees of freedom, in this case, is the number of groups m times the number of data points n in each group, and then we subtract 1, i.e., m•n -1.<br>
<font face="Helvetica"  size="3px" color="#323752"><b>SSW</b> is the sum of the squared distance between each data point and the respective group mean. The degrees of freedom is the number of groups times the number of data points minus 1, i.e., m•(n -1).<br>
<font face="Helvetica"  size="3px" color="#323752"><b>SSB</b> is the sum of the squared distance between each group mean and the mean of the dataset for each data point. The degrees of freedom is the number of groups minus 1, i.e., m -1. <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">data2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">data2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SST</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">data2</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data2</span><span class="p">)))</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">SST</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6175.385322822148
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2_sst</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span>
<span class="n">data2_sst</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>297
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SSW</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">data2</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data2</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">SSW</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>235.9172046979866
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2_ssw</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">data2_ssw</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>296
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SSB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data2</span><span class="p">)))</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">SSB</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>119.58660640518437
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2_ssb</span> <span class="o">=</span> <span class="n">m</span><span class="o">-</span><span class="mi">1</span>
<span class="n">data2_ssb</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> Let’s define our hypothesis test.<br>
<font face="Helvetica"  size="3px" color="#323752"> As usual, we will assume that our null hypothesis is true and figure out the probability of getting a statistic as extreme or more extreme than the one we get from the data observed. For that, we will use an <b>F-statistic</b>, which is basically a ratio of two <b>chi-square statistics</b>. It is actually the ratio of two of the metrics calculated above divided by their respective degrees of freedom:<br>
<font face="Helvetica"  size="3px" color="#323752"> The idea is that if the numerator is significantly larger than the denominator, this should make us believe that there is a difference between the true populations' means. Conversely, if the denominator is significantly larger, it means that the variation within each sample is a bigger percentage of the total variation when compared with the variation between the samples. Thus, any difference we could observe in the means is probably just a result of random chance.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F</span> <span class="o">=</span> <span class="p">(</span><span class="n">SSB</span><span class="o">/</span><span class="n">data2_ssb</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">SSW</span><span class="o">/</span><span class="n">data2_ssw</span><span class="p">)</span>
<span class="n">F</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>150.04261999988282
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">dfn</span><span class="o">=</span><span class="n">data2_ssb</span><span class="p">,</span> <span class="n">dfd</span><span class="o">=</span><span class="n">data2_ssw</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.8730662237529048
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> Now, we can calculate our p-value. Let’s use a significance level of 0.1.<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p_value</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">dfn</span><span class="o">=</span><span class="n">data2_ssb</span><span class="p">,</span> <span class="n">dfd</span><span class="o">=</span><span class="n">data2_ssw</span><span class="p">))</span><span class="o">*</span><span class="mi">2</span>
<span class="n">p_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.220446049250313e-16
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">p_value</span><span class="o">&lt;</span><span class="mf">0.1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reject H_0&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Accept H_0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Reject H_0
</pre></div>
</div>
</div>
</div>
<br>
<font face="Helvetica"  size="3px" color="#323752"> We see that the p-value is smaller than the significance level, which makes us reject the null hypothesis. There is enough evidence to accept a difference between the populations’ means that does not come from chance alone or from the variance within each group.</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="intro.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Introduciton to Political Data Analysis: Python tutorials</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="Lecture2.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Lecture 2: Measures for Association in Categorical Data</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>
